webpackJsonp([0,5],{523:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(527),r=n(531),a=n(526),c=n(29),l=n(21),s=n(94),f=n(530),u=n(525),d=n(524),p=n(528);n.d(e,"FlightBookingModule",function(){return g});var h=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},g=function(){function t(){}return t}();g=h([n.i(i.NgModule)({imports:[c.CommonModule,l.a,l.b,s.a,f.a],declarations:[o.a,r.a,a.a,u.a],providers:[d.a,p.a],exports:[]})],g)},524:function(t,e,n){"use strict";var i=n(2),o=n(43),r=n(92),a=n(63);n.n(a);n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},f=function(){function t(t,e,n){this.oauthService=t,this.http=e,this.baseUrl=n,this.flights=[]}return t.prototype.delay=function(){var t=this.flights[0],e=new Date(t.date);e.setTime(e.getTime()+9e5),t.date=e.toISOString()},t.prototype.findById=function(t){var e=this.baseUrl+"/api/flight",n=new o.Headers;n.set("Accept","text/json"),n.set("Authorization","Bearer "+this.oauthService.getAccessToken());var i=new o.URLSearchParams;return i.set("id",t),this.http.get(e,{headers:n,search:i}).map(function(t){return t.json()})},t.prototype.find=function(t,e){var n=this,i=this.baseUrl+"/api/flight",r=new o.Headers;r.set("Accept","text/json"),r.set("Authorization","Bearer "+this.oauthService.getAccessToken());var a=new o.URLSearchParams;a.set("from",t),a.set("to",e),this.http.get(i,{headers:r,search:a}).map(function(t){return t.json()}).subscribe(function(t){n.flights=t},function(t){console.warn(t)})},t}();f=c([n.i(i.Injectable)(),s(2,n.i(i.Inject)(r.a)),l("design:paramtypes",["function"==typeof(u=void 0!==a.OAuthService&&a.OAuthService)&&u||Object,"function"==typeof(d=void 0!==o.Http&&o.Http)&&d||Object,String])],f);var u,d},525:function(t,e,n){"use strict";var i=n(2);n.d(e,"a",function(){return r});var o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=function(){function t(){}return t}();r=o([n.i(i.Component)({selector:"flight-booking",template:n(533)})],r)},526:function(t,e,n){"use strict";var i=n(2),o=n(28),r=n(524);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.flightService=t,this.route=e,this.exitWarning={show:!1,resolve:null}}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.id=e.id}),this.route.data.subscribe(function(e){var n=e.flight;t.flight=n?n:{}})},t.prototype.save=function(){console.warn("save is not implemented")},t.prototype.decide=function(t){this.exitWarning.show=!1,this.exitWarning.resolve(t)},t.prototype.canDeactivate=function(){var t=this;return this.exitWarning.show=!0,new Promise(function(e){t.exitWarning.resolve=e})},t.prototype.remove=function(){console.log("remove is not implemented")},t}();l=a([n.i(i.Component)({template:n(535)}),c("design:paramtypes",["function"==typeof(s=void 0!==r.a&&r.a)&&s||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object])],l);var s,f},527:function(t,e,n){"use strict";var i=n(2),o=n(28),r=n(524);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.flightService=t,this.from="Hamburg",this.to="Graz",this.date=(new Date).toISOString(),e.queryParams.subscribe(function(t){})}return t.prototype.delay=function(){this.flightService.delay()},Object.defineProperty(t.prototype,"flights",{get:function(){return this.flightService.flights},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.selectedFlight=t},t.prototype.search=function(){this.flightService.find(this.from,this.to)},t.prototype.disableButton=function(t){console.log(t)},t}();l=a([n.i(i.Component)({selector:"flight-search",template:n(536),styles:[n(532)]}),c("design:paramtypes",["function"==typeof(s=void 0!==r.a&&r.a)&&s||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object])],l);var s,f},528:function(t,e,n){"use strict";var i=n(0),o=(n.n(i),n(524)),r=n(2);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.flightService=t}return t.prototype.resolve=function(t,e){var n=t.params.id;return"0"==n?i.Observable.of(null):this.flightService.findById(n)},t}();l=a([n.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(s=void 0!==o.a&&o.a)&&s||Object])],l);var s},529:function(t,e){},530:function(t,e,n){"use strict";var i=n(28),o=n(527),r=n(526),a=n(525),c=n(528),l=n(93);n.d(e,"a",function(){return f});var s=[{path:"",component:a.a,children:[{path:"",redirectTo:"flight-search",pathMatch:"full"},{path:"flight-search",component:o.a},{path:"flight-edit/:id",component:r.a,canDeactivate:[l.a],data:{restricted:!0},resolve:{flight:c.a}}]}],f=i.b.forChild(s)},531:function(t,e,n){"use strict";var i=n(2),o=n(529);n.n(o);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.zone=t,this.element=e,this.selectedItemChange=new i.EventEmitter}return t.prototype.select=function(){this.selectedItemChange.emit(this.item)},t.prototype.check=function(){return this.blink(),null},t.prototype.blink=function(){var t=this;this.element.nativeElement.firstChild.style.backgroundColor="crimson",this.zone.runOutsideAngular(function(){setTimeout(function(){t.element.nativeElement.firstChild.style.backgroundColor="lightsteelblue"},1e3)})},t}();r([n.i(i.Input)(),a("design:type","function"==typeof(l=void 0!==o.Flight&&o.Flight)&&l||Object)],c.prototype,"item",void 0),r([n.i(i.Input)(),a("design:type","function"==typeof(s=void 0!==o.Flight&&o.Flight)&&s||Object)],c.prototype,"selectedItem",void 0),r([n.i(i.Output)(),a("design:type",Object)],c.prototype,"selectedItemChange",void 0),c=r([n.i(i.Component)({selector:"flight-card",template:n(534)}),a("design:paramtypes",["function"==typeof(f=void 0!==i.NgZone&&i.NgZone)&&f||Object,"function"==typeof(u=void 0!==i.ElementRef&&i.ElementRef)&&u||Object])],c);var l,s,f,u},532:function(t,e,n){e=t.exports=n(44)(),e.push([t.i,"\r\ninput.ng-valid {\r\n    border-left-style: solid;\r\n    border-left-color: forestgreen;\r\n    border-left-width: 5px;\r\n}\r\n\r\ninput.ng-invalid {\r\n    border-left-style: solid;\r\n    border-left-color: hotpink;\r\n    border-left-width: 5px;\r\n}",""]),t.exports=t.exports.toString()},533:function(t,e){t.exports='<div class="col-sm-3">\n    <ul class="nav nav-pills nav-stacked" style="margin-top:20px;">\n        <li routerLinkActive="active"><a [routerLink]="[\'./flight-search\']">Search Flights</a></li>\n        <li routerLinkActive="active"><a [routerLink]="[\'./flight-edit\', 0]">Add Flight</a></li>\n    </ul>\n</div>\n\n<div class="col-md-9">\n    <router-outlet></router-outlet>\n</div>\n'},534:function(t,e){t.exports='<div style="padding:20px;"\n    [ngStyle]="{ \'background-color\': (item == selectedItem) ? \'orange\' : \'lightsteelblue\'}">\n    <h2>{{item.from}} - {{item.to}}</h2>\n    <p>Flight No. #{{item.id}}</p>\n    <p>Date: {{item.date | date:\'dd.MM.yyyy HH:mm\'}}</p>\n\n    <div style="height:40px">\n        <p>\n            <input type="button"\n                   value="AuswÃ¤hlen"\n                   class="btn btn-default"\n                   (click)="select()"/>\n        </p>\n    </div>\n\n    <ng-content></ng-content>\n\n    {{check()}}\n\n</div>\n'},535:function(t,e){t.exports='<h1>Edit Flight</h1>\n\n<div *ngIf="exitWarning.show" class="alert alert-warning" style="position: fixed; top:20px; width:400px; z-index:10">\n    <div>\n      Do you really want to leave?\n    </div>\n    <div>\n        <a href="javascript:void(0)" (click)="decide(true)" class="btn btn-danger">Sure</a>\n        <a href="javascript:void(0)" (click)="decide(false)" class="btn btn-default">Nope</a>\n    </div>\n</div>\n\n<!--\n<div *ngIf="flight">\n-->\n<div *ngIf="message">\n    {{message}}\n</div>\n\n<div class="form-group">\n    <label>Id</label>\n    <input class="form-control" [(ngModel)]="flight.id">\n</div>\n<div class="form-group">\n    <label>From</label>\n    <input class="form-control" [(ngModel)]="flight.from">\n</div>\n<div class="form-group">\n    <label>To</label>\n    <input class="form-control" [(ngModel)]="flight.to">\n</div>\n<div class="form-group">\n    <label>Datum</label>\n    <input class="form-control" [(ngModel)]="flight.date">\n</div>\n<div class="form-group">\n    <button class="btn btn-primary" (click)="save()">Save</button>\n    <button flightTooltip2="This action is irreversible!" (flightClickWithWarning)="remove()">Remove</button>\n    <ng-template #tooltip>\n        <flight-tooltip>\n            This action is irreversible.\n        </flight-tooltip>\n        <!--\n        <div>\n            This action is irreversible.\n        </div>\n        -->\n    </ng-template>\n</div>\n<!--\n</div>\n-->\n'},536:function(t,e){t.exports='<h1>Search Flights</h1>\n\n<form #f="ngForm" novalidate flightRoundTrip>\n\n    <div *ngIf="f?.control?.hasError(\'round-trip\')">\n        Round trips arn\'t allowed.\n    </div>\n\n    <div class="form-group">\n        <label>From</label>\n        <input class="form-control"\n               [(ngModel)]="from"\n               name="from">\n    </div>\n\n    <div class="form-group">\n        <label>To</label>\n        <input class="form-control" [(ngModel)]="to" name="to" flightE2eLocator="to">\n    </div>\n\n    <div class="form-group">\n        <button\n            class="btn btn-primary"\n            name="btnSearch"\n            [disabled]="!f.valid"\n            (click)="search()">Search\n        </button>\n      <button\n        class="btn btn-primary"\n        name="btnSearch"\n        [disabled]="!f.valid"\n        (click)="delay()">Delay\n      </button>\n    </div>\n\n</form>\n\n<div class="row">\n    <div *ngFor="let f of flights" class="col-sm-6 col-md-4 col-lg-3 ">\n        <flight-card [item]="f"\n                     [(selectedItem)]="selectedFlight">\n\n            <a class="btn btn-default"\n               [routerLink]="[\'../flight-edit\', f.id]">Edit</a>\n\n        </flight-card>\n\n    </div>\n</div>\n\n\n<div class="row" style="margin-top:40px">\n<pre>Your Flight\n----------------------\n{{selectedFlight | json}}\n</pre>\n</div>\n'}});